{"version":3,"file":"FilterableHeaderCell.js","sourceRoot":"","sources":["../../../../src/common/cells/headerCells/FilterableHeaderCell.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAGxC,MAAM,CAAC,OAAO,UAAU,oBAAoB,CAAC,EAAyC;QAAvC,kBAAM,EAAE,sBAAQ;IACvD,IAAA,kCAAwC,EAAvC,kBAAU,EAAE,qBAA2B,CAAC;IAE/C,SAAS,YAAY,CAAC,KAA0C;QACtD,IAAA,0BAAK,CAAkB;QAC/B,IAAM,UAAU,GAAG,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBACtC,IAAI,EAAE,CAAC;gBACP,KAAK,OAAA;aACN,CAAC,CAAC;QACH,aAAa,CAAC,UAAU,CAAC,CAAC;QAC1B,IAAI,QAAQ,EAAE;YACZ,QAAQ,CAAC;gBACP,UAAU,YAAA,EAAE,MAAM,QAAA,EAAE,YAAY,cAAA,EAAE,QAAQ,EAAE,KAAK;aAClD,CAAC,CAAC;SACJ;IACH,CAAC;IAED,SAAS,YAAY,CAAC,GAAY,EAAE,YAA4B,EAAE,SAAiB;QACjF,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM;YAAE,OAAO,IAAI,CAAC;QAEjD,iCAAiC;QACjC,IAAM,KAAK,GAAG,GAAG,CAAC,SAAS,CAAW,CAAC;QACvC,IAAM,KAAK,GAAG,IAAI,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAe,EAAE,IAAI,CAAC,CAAC;QAC3E,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;IAChC,CAAC;IAED,IAAI,MAAM,CAAC,UAAU,KAAK,KAAK,EAAE;QAC/B,OAAO,gCAAO,CAAC;KAChB;IAED,OAAO,CACL,6BAAK,SAAS,EAAC,YAAY;QACzB,+BACE,GAAG,EAAE,mBAAiB,MAAM,CAAC,GAAK,EAClC,SAAS,EAAC,uBAAuB,EACjC,WAAW,EAAC,QAAQ,EACpB,KAAK,EAAE,UAAU,EACjB,QAAQ,EAAE,YAAY,GACtB,CACE,CACP,CAAC;AACJ,CAAC","sourcesContent":["import React, { useState } from 'react';\nimport { FilterRendererProps, RowData, AddFilterEvent } from '../../types';\n\nexport default function FilterableHeaderCell({ column, onChange }: FilterRendererProps) {\n  const [filterTerm, setFilterTerm] = useState();\n\n  function handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const { value } = event.target;\n    const filterTerm = value === '' ? [] : [{\n      type: 0,\n      value\n    }];\n    setFilterTerm(filterTerm);\n    if (onChange) {\n      onChange({\n        filterTerm, column, filterValues, rawValue: value\n      });\n    }\n  }\n\n  function filterValues(row: RowData, columnFilter: AddFilterEvent, columnKey: string): boolean {\n    if (!columnFilter.filterTerm.length) return true;\n\n    // implement default filter logic\n    const value = row[columnKey] as string;\n    const regex = new RegExp(columnFilter.filterTerm[0].value as string, 'gi');\n    return !!(value.match(regex));\n  }\n\n  if (column.filterable === false) {\n    return <div />;\n  }\n\n  return (\n    <div className=\"form-group\">\n      <input\n        key={`header-filter-${column.key}`}\n        className=\"form-control input-sm\"\n        placeholder=\"Search\"\n        value={filterTerm}\n        onChange={handleChange}\n      />\n    </div>\n  );\n}\n"]}